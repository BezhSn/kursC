<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="css/style.min.css">
    <title>Пространства имен (namespace) в C#</title>
    <style>
        a {
            text-decoration: none;
        }
    </style>
</head>
<body>

    <header>
        <section class="header">
            <div class="container">
                <header id="sidebar">
                    <script src="js/header.js"></script>
                </header>
            </div>
        </section>
   </header>

    <div class="leson10">
        <div class="container">
            <h1>Пространства имен (namespace) в C#</h1>
            <p>
                Содержание
                <ul>
                    <li><a href="#1">Использование пространств имен в проектах C#</a></li>
                    <li><a href="#2">Вложенные пространства имен</a></li>
                    <li><a href="#3">Глобальные пространства имен и пространства имен уровня файла</a>
                        <ul>
                            <li><a href="#3_1">Глобальные пространства имен</a></li>
                            <li><a href="#3_2">Пространства имен уровня файла</a></li>
                        </ul>
                    </li>
                    <li><a href="#4">Итого</a></li>
                </ul>
                Пространства имен (namespace) позволяют выделять определенные части ваших приложений (классы, интерфейсы и т.д.) в логические блоки. Такой подход позволяет сделать код приложения более читабельным и понятным. Сама платформа .NET активно использует пространства имен для создания стройной и логичной структуры своих классов и объектов. Например, в пространстве имен System расположены все основные классы и объекты для работы (тот же класс Console), а в пространстве имен System.Text.Json — классы для работы с JSON и так далее.
                <br><br>
                Чтобы определить пространство имен используется следующая конструкция:
                <br><br>
                <strong>
                    namespace [название_пространства_имен] <br>
                    { <br>
                        [код приложения] <br>
                    } <br><br>
                </strong> 
                С пространствами имен мы сталкиваемся уже на этапе знакомства с C#. Например, шаблонное консольное приложение для .NET 5 и более ранних версий выглядит следующим образом:
                <br><br>
                <strong>
                    using System; <br>
                    namespace ConsoleApp1 <br>
                    { <br>
                        internal class Program <br>
                        { <br>
                            static void Main(string[] args) <br>
                            { <br>
                                Console.WriteLine("Hello World!"); <br>
                            } <br>
                        } <br>
                    } 
                </strong>
            </p>
            <h3><a name="1">Использование пространств имен в проектах C#</a></h3>
            <p>
                Чтобы ваше приложение имело возможность использовать какие-либо классы платформы .NET необходимо подключить требуемое пространство имен в ваш проект. Для подключения пространства имен в проект используется ключевое слово using. Например, подключим к нашему проекту пространство имен, которое позволит работать с текстом:
                <br><br>
                <img src="img/les10_1.png" alt="1">
            </p>
            <h3><a name="2">Вложенные пространства имен</a></h3>
            <p>
                Пространства имен в C# могут быть вложенными. Например, мы можем организовать вот такую логическую структуру нашего проекта:
                <br><br>
                <img src="img/les10_2.png" alt="2">
                <br><br>
                Здесь мы определили вложенное пространство имен (namespace) MyNamespace. Теперь, чтобы использовать класс Data мы должны сделать так:
                <br><br>
                <strong>
                    internal class Program <br>
                    { <br>
                        static void Main(string[] args) <br>
                        { <br>
                            MyNamespace.Data data = new() <br>
                            { <br>
                                Name = "Привет", <br>
                                Value = "Мир!" <br>
                            }; <br>
                        } <br>
                    } <br> <br>
                </strong>
                то есть, перед именем класса (Data) мы указываем название пространства имен (MyNamespace).
            </p>
            <h3><a name="3">Глобальные пространства имен и пространства имен уровня файла</a></h3>
            <h5><a name="3_1">Глобальные пространства имен</a></h5>
            <p>
                Глобальные пространства имен удобно использовать в том случае, если вам необходимо использовать это пространство имен во всем (или в большинстве файлов) проекте. Например, уже используемое нами пространство имен System можно определить как глобальное. Чтобы определить глобальное пространство имен необходимо перед его объявлением использовать ключевое слово global.
                <br><br>
                <strong>
                    global using System; //глобальное пространство имен <br>
                    namespace ConsoleApp1 <br>
                    { <br>
                        internal class Program <br>
                        { <br>
                            static void Main(string[] args) <br>
                            { <br>
                                Console.WriteLine("Привет Мир!"); <br>
                            } <br>
                        } <br>
                    } <br><br>
                </strong>
                Теперь нам нет необходимости в каждом файле проекта для которого необходимо использование пространства имен System использовать конструкцию using System;.
                <br><br>
                <strong>
                    namespace ConsoleApp1.Base <br>
                    { <br>
                        internal class BaseClass <br>
                        { <br>
                            public BaseClass() <br>
                            { <br>
                                Console.WriteLine("Привет, Мир!");//класс Console взят из глобального пространства имен <br>
                            } <br>
                        } <br>
                    } <br><br>
                </strong>
                Глобальные пространства имен можно определять в любом месте проекта, однако при этом, пространство имен с параметром global всегда должно находиться в коде выше, чем пространство имен без global
                <br><br>
                Как можно видеть на скриншоте, Visual Studio указывает нам на то, что пространство имен с global необходимо перенести ВЫШЕ. И хоть мы имеем право определить глобальное пространство в любом удобном для нас месте, все же стоит придерживаться элементарных правил хорошего тона и постараться обеспечить поддержку нашего проекта в любом обозримом будущем. Поэтому все глобальные пространства имен лучше вынести в отдельный файл и назвать этот файл наиболее подходящим образом, например, GlobalUsings.cs или GlobalNamespaces.cs:
                <br><br>
                <strong>
                    //Файл с глобальными пространствами имен bootstrap-reboot
                    global using System; <br>
                    global using System.Data; <br>
                    global using System.Data.Common; 
                </strong>
            </p>
            <h5><a name="3_2">Пространства имен уровня файла</a></h5>
            <p>
                Пространство имен уровня файла указывает на то, что всё, что содержится в файле относится к этому пространству имен. Чтобы определить пространство имен уровня файла в C# необходимо использовать конструкцию namespace без фигурных скобок, например:
                <br><br>
                <strong>
                    //всё содержимое файла относится к этому пространству имен <br>
                    namespace ConsoleApp1.Base;<br>
                        internal class BaseClass <br>
                        { <br>
                            public BaseClass() <br>
                            { <br>
                            //класс Console взят из глобального пространства имен bootstrap-reboot
                            } <br>
                        }
                </strong>
            </p>
           <h3><a name="4"> Итого</a></h3>
           <p>
            Пространства имен в C# (namespace) — это, в первую очередь, логические структуры, которые позволяют разделить используемые в проекте классы и объекты по определенным признакам и сделать проект полее комфортным с точки зрения его поддержки. Начиная с .NET 6 C# 10, пространства имен могут быть глобальными (обозначаются ключевым словом global) и пространствами имен уровня файла.
           </p>
        </div>
    </div>
</body>
</html>