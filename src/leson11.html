<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="css/style.min.css">
    <title>Циклы C#</title>
    <style>
        a {
            text-decoration: none;
        }
    </style>
</head>
<body>

    <header>
        <section class="header">
            <div class="container">
                <header id="sidebar">
                    <script src="js/header.js"></script>
                </header>
            </div>
        </section>
   </header>

    <div class="leson11">
        <div class="container">
            <h1>Циклы C#: создание и управление циклами, циклы с пред и постусловиями</h1>
            <p>
                Содержание
                <ul>
                    <li><a href="#1">Цикл for</a></li>
                    <li><a href="#2">Цикл while</a></li>
                    <li><a href="#3">Цикл do…while</a></li>
                    <li><a href="#4">Цикл foreach</a></li>
                    <li><a href="#5">Управление циклами в C#</a>
                        <ul>
                            <li><a href="#5_1">Пример с continue</a></li>
                            <li><a href="#5_2">Пример с break</a></li>
                        </ul>
                    </li>
                    <li><a href="#6">Итого</a></li>
                </ul>
                Циклы — это конструкции языка программирования, которые позволяют выполнять определенный блок кода до тех пор, пока выполняется определенное условие. В C# существуют четыре вида циклов — for, foreach, while и do while. Например, трудно себе представить програму, которая ищет все простые числа от 0 до 9999 и, при этом не использует в своей работе циклы. Рассмотрим какие бывают и как работают эти циклы в C#.
            </p>
            <h3><a name="1">Цикл for</a></h3>
            <p>
                Конструкция цикла for следующая:
                <br><br>
                <strong>
                    for (инициализация ; условие; порядок выполнения) <br>
                    { <br>
                        Действие;  <br>
                    } <br><br>
                </strong>
                <ul>
                    <li>инициализация — начальное значение счётчика;</li>
                    <li>условие — пока условие выдает true цикл будет выполняться;</li>
                    <li>порядок выполнения — команда, которая должна наращивать счётчик.</li>
                </ul>
                Раз уж речь в начале зашла про простые числа, то и рассмотрим пример их поиска с использованием циклов. С использованием цикла for поиск простого числа можно организовать, например вот так:
                <br><br>
                <img src="img/les11_1.png" alt="1">
                <br><br>
                Рассмотрим основные моменты нашей программы. Начнем с метода IsPrime() — именно в нем происходит проверка числа с использованием цикла for. Этот метод в качестве аргумента принимает целое число, а результатом является логический тип bool: true, если число является простым и false — в противоположном случае.  Внутри цикла мы проверяем остаток от деления числа на значение счётчика. Чтобы было понятно, как будет работать наша программа с циклом, распишем все действия метода по шагам, на примере числа 5:
                <ul>
                    <li>Шаг 1: инициализируем переменную счётчика, присвоив i значение 2.</li>
                    <li>Шаг 2: проверяем истинность условия выхода (i<=5) — если условие истинно, значит выполняем действие</li>
                    <li>Шаг 3: проверяем остаток от деления 5 на текущее значение счётчика. Остаток больше нуля, поэтому условие if не выполняется и программа попробует перейти к следующему шагу цикла. Если условие if выполняется, то срабатывает оператор return, который возвращает нас из метода IsPrime() в основную программу с результатом метода равным true.</li>
                    <li>Шаг 4: наращиваем счётчик на 1 (выражение i++ в цикле).</li>
                    <li>Возвращаемся на шаг 2. Если i больше заданного числа, то выходим из цикла и функция вернет true так как все возможные значения делителей были просмотрены и при всех значениях остаток от деления был больше нуля. Если же условие выхода из цикла не выполняется, то переходим на шаг 3.</li>
                </ul>
                Таким образом, для числа 5 наш цикл будет состоять из трех итераций (i = 1, 2, 3), а так как 5 — это простое число, то мы дойдем до оператора return в последней строке метода. Вот так работает цикл и сам метод IsPrime().
                <br><br>
                Теперь посмотрим вот эту строку в методе Main():
                <strong><br><br>Console.WriteLine(IsPrime(int.Parse(Console.ReadLine())) ? "Простое число" : "Не простое число");</strong>
                <br><br>
                Здесь мы воспользовались нашим методом, а также тернарной операцией для вывода итогов проверки числа. Таким образом, всего в одной простенькой программке мы смогли применить практически все, что узнали о C# до этого момента: посмотрели как работает цикл for, в цикле использовали арифметический оператор — остаток от деления в логической операции if и, в заключении, использовали тернарную операцию для вывода результата в консоль.
                <br><br>
                Возвращаясь к теме цикла for так же стоит отметить следующую его особенность инициализация ; условие; порядок выполнения могут отсутствовать и добавляются по желанию.
                <br><br>
                Например, в C# можно создать бесконечный цикл for:
                <br><br>
                <strong>
                    for ( ; ; ) <br>
                    { <br>
                        // действия, которые будут выполняться бесконечно break
                    } <br><br>
                </strong>
                Есть и другие особенности этого цикла, например, использование запятых в инициализации и порядке выполнения, но это всё уже тонкости программирования, которые нам пока не потребуются для дальнейшего изучения языка C#.
            </p>
            <h3><a name="2">Цикл while</a></h3>
            <p>
                Конструкция цикла while:
                <br><br>
                <strong>
                    while (условие) <br>
                    { <br>
                        Действие; <br>
                    } <br><br>
                </strong>
                Цикл while выполняется до тех пор пока условие возвращает истину (true).
                <br><br>
                Вернемся к нашим простым числам. Например, нам необходимо найти все простые числа в заданном диапазоне. Конечно, мы бы могли без проблем воспользоваться тем же самым циклом for, но для разнообразия рассмотрим пример с использованием while:
                <br><br>
                <strong>
                    int max = 4000; <br>
                    int i = 0; <br>
                    while (i <= max) break
                    { <br>
                        if (IsPrime(i)) <br>
                            { <br>
                            Console.WriteLine(i); <br>
                            } <br>
                        i++; <br>
                    } <br><br>
                </strong>
                Наш цикл while будет выполняться до тех пор, пока значение i не станет  больше переменной max. То есть, в примере — это значение 4000.
            </p>
            <h3><a name="3">Цикл do…while</a></h3>
            <p>
                Конструкция цикла do..while:
                <br><br>
                <strong>
                    do <br>
                    { <br>
                      Действие; <br>
                    } <br>
                  while (Условие) <br><br>
                </strong>
                Думаю, не стоит повторять, что значит условие или действие в описании конструкции цикла. Стоит лишь только добавить, что этот цикл выполниться хотя бы один раз минимум, тогда как предыдущий цикл while может не выполниться не разу, если будет задано заведомо ложное условие.
            </p>
            <h3><a name="4">Цикл foreach</a></h3>
            <p>
                Конструкция цикла foreach:
                <br><br>
                <strong>
                    foreach (тип переменная in набор данных) break
                    { <br>
                        Действие; <br>
                    } <br><br>
                </strong>
                Здесь стоит кое-что пояснить. В описании конструкции цикла грамматической ошибки нет, то есть в цикле используется тип данных переменной, и переменная через которую мы будем получать доступ к очередному значению в наборе данных. При этом, в качестве набора данных могут выступать массивы, списки и так далее. Забегая немного вперед, покажу как воспользоваться циклом foreach для поиска простых чисел в массиве:
                <br><br>
                <strong>
                    int[] array = { 1, 3, 7, 9, 12, 134, 145, 1345, 3456, 76, 56, 89, 123, 11 }; <br>
                    foreach (int value in array) <br>
                    { <br>
                        Console.WriteLine(IsPrime(value) ? $"{value} простое" : $"{value} непростое"); <br>
                    } <br><br>
                </strong>
                Как видите, в цикле мы указали тип данных (целое число int), переменную (value) и набор данных — массив с именем array. Цикл foreach последовательно перебирает все элементы массива и выводит результат проверки в консоль.
            </p>
            <h3><a name="5">Управление циклами в C#</a></h3>
            <p>
                Управлять циклами в C# возможно с использованием двух операторов перехода:
                <ul>
                    <li>continue — прерывает текущую итерацию цикла и переходит к следующей;</li>
                    <li>break — полностью прерывает выполнение цикла.</li>
                </ul>
            <h5><a name="5_1">Пример с continue</a></h5>
            Чтобы далеко не ходить, за основу для примера возьмем предыдущий цикл foreach. Пусть теперь наша программа пропускает все числа в массиве, которые больше 100. С помощью оператора continue сделать это довольно просто:
                <br><br>
                <strong>
                    foreach (int value in array) <br>
                    { <br>
                        if (value > 100) //число больше 100? <br>
                        { <br>
                            continue; //прерываем текущую итерацию и переходим к следующему числу из массива  <br>
                        } <br>
                        Console.WriteLine(IsPrime(value) ? $"{value} простое" : $"{value} непростое"); <br>
                    } <br><br>
                </strong>
                Теперь, если запустить приложение, то в консоли появится результат проверки только для чисел до 100 включительно, то есть:
                <br><br>
                <strong>1, 3, 7, 9, 12, 76, 56, 89, 11.</strong>
    
                <h5><a name="5_2">Пример с break</a></h5>
                Как было сказано выше, оператор break полностью прерывает выполнение цикла. Так, если в предыдущем примере мы отсеивали все числа больше 100, то в этом примере цикл прервется как только встретит число более 100:
                <br><br>
                <strong>
                    foreach (int value in array) <br>
                    { <br>
                        if (value > 100) //число больше 100? <br>
                        { <br>
                            break; //прерываем выполнение цикла  <br>
                        } <br>
                        Console.WriteLine(IsPrime(value) ? $"{value} простое" : $"{value} непростое"); <br>
                    } <br><br>
                </strong> 
                Не трудно догадаться, что последним числом, которое будет проверено в цикле будет число 12, так как следующее число в массиве 134 (больше 100).
            </p>
            <h3><a name="6">Итого</a></h3>
            <p>
                Итак, сегодня мы разобрались с циклами в C#, посмотрели как они работают на примере поиска простых чисел, а также научились управлять циклами в нашем приложении с помощью операторов continue и break. При этом, я постарался сделать так, чтобы в примерах было задействовано максимальное количество конструкций и операторов, которые мы изучили ранее.
            </p> 
        </div>
    </div>
</body>
</html>