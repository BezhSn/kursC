<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="css/style.min.css">
    <title>Кортежи C#</title>
    <style>
        a {
            text-decoration: none;
        }
    </style>
</head>
<body>

    <header>
        <section class="header">
            <div class="container">
                <header id="sidebar">
                    <script src="js/header.js"></script>
                </header>
            </div>
        </section>
   </header>

    <div class="leson16">
        <div class="container">
            <h1>Кортежи C# — вторая программа для сортировки массива</h1>
            <p>
                Содержание
                <ul>
                    <li><a href="#1">Определение и инициализация кортежа в C#</a></li>
                    <li><a href="#2">Как использовать кортежи в C#</a></li>
                    <li><a href="#3">Вторая программа — сортировка массива различными методами</a></li>
                    <li><a href="#4">Итого</a></li>
                </ul>
                Кортеж — это относительно новый тип данных C# (появился в C# 7.0), rкоторый предоставляет краткий синтаксис для группирования нескольких элементов данных в упрощенную структуру. Кортежи позволяют сгруппировать и предоставить пользователю данные различных типов. Сегодня поговорим о том, как можно использовать кортежи в своих приложениях C#.
            </p>
            <h3><a name="1">Определение и инициализация кортежа в C#</a></h3>
            <p>
                Для того, чтобы определить кортеж в C# можно использовать следующее описание:
                <br><br>
                <strong>(типы_элементов_через_запятую) Имя_кортежа;</strong>
                <br><br>
                То есть, вначале в круглых скобках указываем через запятую типы данных для элементов кортежа, а затем — имя кортежа. Например:
                <br><br>
                <strong>(int, double, string) tuple;</strong>
                <br><br>
                Чтобы инициализировать кортеж, мы также должны использовать круглые скобки:
                <br><br>
                <strong>tuple = (1, 1.2, "Hello world");</strong>
                <br><br>
                Так, выше мы объявили кортеж с именем tuple и инициализировали его, присвоив каждому элементу соответствующее значение. Теперь мы можем обратиться к элементам кортежа следующим образом:
                <br><br>
                <strong>
                    int i = tuple.Item1; <br>
                    Console.WriteLine(i);
                </strong>
                <br><br>
                Здесь мы присвоили переменной значение первого элемента кортежа. Можно и напрямую вывести любой элемент кортежа в консоль, например, так:
                <br><br>
                <strong>Console.WriteLine(tuple.Item3);</strong>
                <br><br>
                Item1, Item2, Item3 и так далее — это имена полей кортежа, которые создаются автоматически. Чтобы добраться до любого элемента кортежа, достаточно написать его имя, поставить точку и в выпадающем списке выбрать необходимых элемент. Но, согласитесь, что Item1 и так далее — не совсем удобные имена? Что скрывается за tuple.Item1 — знает только сам разработчик и то, может через день забыть. Поэтому, при определении кортежа мы можем сами указывать имена полей, например:
                <br><br>
                <strong>
                    (int Count, double Summ, string Hello) tuple; <br>
                    tuple = (1, 1.2, "Hello world"); <br>
                    int i = tuple.Count; <br>
                    Console.WriteLine(i); <br>
                    Console.WriteLine(tuple.Hello);
                </strong>
                <br><br>
                В приведенном выше примере мы объявили кортеж с тремя элементами и каждому элементу определили свое собственное имя. Теперь мы можем использовать понятные имена элементов кортежа.
            </p>
            <h3><a name="2">Как использовать кортежи в C#</a></h3>
            <p>
                Одним из наиболее распространенных способов использования кортежей является получение нескольких значений при вызове метода. Когда мы рассматривали методы C#, то для получения нескольких значений из своего метода мы придерживались такого правила — одно значение возвращается в результате метода (через оператор return), а все последующие — через параметры с модификатором out. Такой подход вполне может быть. А можно использовать для возврата необходимых значений кортеж. Чтобы продемонстрировать использование кортежа, напишем пример сортировки массива различными методами, например, возьмем сортировку выбором, пузырьковую и вставками. Пусть наша программа будет оценивать работу каждого алгоритма по следующим параметрам: количество сравнений и количество итераций в циклах.
            </p>
            <h3><a name="3">Вторая программа — сортировка массива различными методами</a></h3>
            <p>
                Теперь мы уже знаем как использовать собственные методы в C# и даже немного улучшили нашу первую программу сортировки массива, написав вспомогательный метод для вывода массива в консоль. Теперь, используя кортежи, мы ещё немного улучшим наше приложение и «научим» его сортировать массив различными способами и выводить основные результаты сортировки в виде кортежа. Во-первых, так как мы будем сортировать массив различными способами, то нам потребуется вот такое перечисление (enum):
                <br><br>
                <strong>
                    enum Method  <br>
                    {  <br>
                    Select, <br>
                    Bubble, <br>
                    Insertion <br>
                    }
                </strong>
                <br><br>
                определяющее метод сортировки: выбором, пузырьком и вставками. Теперь, напишем методы, в которых будет сортироваться массив. Я приведу только один из методов — сортировку выбором, как выглядят другие методы — можно посмотреть по приведенным выше ссылкам:
                <br><br>
                <img src="img/les16_1.png" alt="1">
                <br><br>
                Здесь Swap — это вспомогательный метод, меняющим местами два элемента массива:
                <br><br>
                <strong>
                    static void Swap(int[] array, int i, int j) <br>
                    { <br>
                        int temp = array[i]; <br>
                        array[i] = array[j]; <br>
                        array[j] = temp; <br>
                    }
                </strong>
                <br><br>
                Обратите внимание на результат, возвращаемый методом SelectSort — это кортеж состоящий из двух элементов с целочисленным типом int. Внутри метода объявлены две переменные — count и permut, которые по мере работы цикла наращиваются и, в итоге передаются через оператор return в виде кортежа:
                <br><br>
                <strong>return (count, permut);</strong>
                <br><br>
                Аналогичным образом написано ещё два метода: BubbleSort для сортировки пузырьком и InsertionSort — для сортировки вставками. Все три метода возвращают кортеж.
                <br><br>
                Чтобы не загружать основной метод программы лишними инструкциями, напишем один метод, который будет сортировать массив:
                <br><br>
                <img src="img/les16_2.png" alt="2">
            </p>
            <h3><a name="4"></a></h3>
            <p>
                Сегодня мы познакомились с таким типом данных как кортежи C#. Используя кортежи можно обеспечивать возврат методом нескольких значений без использования параметров с модификатором out, а также представлять данные различных типов в виде упрощенных структур.
            </p>
        </div>
    </div>
</body>
</html>