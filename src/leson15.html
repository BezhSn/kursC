<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="css/style.min.css">
    <title>Перечисления enum C#</title>
    <style>
        a {
            text-decoration: none;
        }
    </style>
</head>
<body>

    <header>
        <section class="header">
            <div class="container">
                <header id="sidebar">
                    <script src="js/header.js"></script>
                </header>
            </div>
        </section>
   </header>

    <div class="leson15">
        <div class="container">
            <h1>Перечисления enum C#</h1>
            <p>
                Содержание
                <ul>
                    <li><a href="#1">Как определить enum в проекте C#</a></li>
                    <li><a href="#2">Пример использования перечислений C#</a></li>
                    <li><a href="#3">Значения констант в enum</a></li>
                    <li><a href="#4">Итого</a></li>
                </ul>
                Про перечисления (enum) в C# мы пока только знаем, что они есть и, согласно принятой классификации типов данных C# enum относится к типам значений или значимым типам (тут кому как удобнее называть). Сегодня мы попробуем разобраться с тем, как определяются и используются перечисления enum в C#, какие операции можно выполнять с перечислениями и напишем небольшой пример, демонстрирующий использование перечислений в C#.
            </p>
            <h3><a name="1">Как определить enum в проекте C#</a></h3>
            <p>
                Перечисление (enum) — это пользовательский тип данных, представляющий собой набор именованных целочисленных констант. Чтобы объявить перечисление enum в своем приложении необходимо использовать ключевое слово enum и придерживаться следующего правила:
                <br><br>
                <strong>
                    enum Название_типа : целочисленный_тип <br>
                    { <br>
                        имена_констант_через_запятую <br>
                    }
                </strong>
                <br><br>
                Вначале идет ключевое слово enum, которое указывает на то, что тип данных относится к перечислениям. Далее идет Название_типа — это может быть любая строка допустимая для использования в именах переменных C#. После названия через двоеточие указывается тип данных для констант в перечислении, если тип не указан, то по умолчанию используется тип int. И, наконец, в фигурных скобках через запятую указываются имена констант для перечисления. Например, ниже представлено перечисление, содержащее дни недели:
                <br><br>
                <strong>
                    enum Days <br>
                    { <br>
                        Monday, <br>
                        Tuesday, <br>
                        Wednesday, <br>
                        Thursday, <br>
                        Friday, <br>
                        Saturday, <br>
                        Sunday <br>
                    }
                </strong>
            </p>
            <h3><a name="2">Пример использования перечислений C#</a></h3>
            <p>
                Как использовать перечисления enum в своих приложениях? Мы уже научились объявлять и использовать собственные методы в C# и даже написали небольшую программку по сложению чисел. А что делать, если мы захотим не только складывать, но и вычитать, умножать и делить числа? Можно, конечно, на каждую операцию написать отдельный метод, а можно использовать перечисления и организовать выполнение арифметических операций всего в одном методе. Объявим перечисление, в котором каждая константа будет хранить информацию по арифметической операции:
                <br><br>
                <strong>
                    enum Ariphm <br>
                    { <br>
                        Add, <br>
                        Subtract, <br>
                        Multiply, <br>
                        Divide <br>
                    }  <br><br>
                </strong>
                Теперь напишем вот такой метод:
                <br><br>
                <strong>
                    static double DoOperation(double a, double b, Ariphm operation) <br>
                    { <br>
                        return operation switch <br>
                        { <br>
                            Ariphm.Add => a + b, <br>
                            Ariphm.Divide => a / b, <br>
                            Ariphm.Multiply => a * b, <br> 
                            Ariphm.Subtract => a - b, <br>
                            _ => throw new Exception("Неизвестная операция") <br>
                        }; <br>
                    } <br><br>
                </strong>
                Здесь мы использовали выражение switch (доступно с версии C# 8.0) и, в зависимости от того, какое из значений перечисления Ariphm передает пользователь в метод DoOperation выполняется свое действие над переменными. Например, можно вызвать метод вот так:
                <br><br>
                <strong>
                    static void Main(string[] args) <br>
                    { <br>
                    double c =  DoOperation(10, 3, Ariphm.Divide); <br>
                    Console.WriteLine(c); <br> 
                    } <br><br>
                </strong>
                Вывод консоли:
                <br><br>
                <strong>3,3333333333333335   </strong>
                Это достаточно простой пример использования перечислений enum в C#. Теперь разберемся с enum более подробно.
            </p>
            <h3><a name="3">Значения констант в enum</a></h3>
            <p>
                В самом начале было сказано, что enum — это, по сути, набор именованных целочисленных констант. Но, какие значения имеют константы, например, в выше приведенном перечислении для выполнения арифметических операций? По умолчанию связанные значения констант элементов перечисления имеют тип int. Они начинаются с нуля и увеличиваются на единицу в соответствии с порядком текста определения. Чтобы убедиться в этом, достаточно написать, например, вот такой код:
                <br><br>
                <img src="img/les15_1.png" alt="1">
                <br><br>
                и увидеть в консоли следующее:
                <br><br>
                <strong>
                    Add = 0 <br>
                    Subtract = 1 <br>
                    Multiply = 2 <br>
                    Divide = 3 <br><br>
                </strong>
                При этом, мы можем изменить значения констант как нам угодно (но только в рамках используемого для констант типа данных). Например, мы можем задать вот такие значения для наших констант:
                <br><br>
               <strong>
                    enum Ariphm <br>
                    { <br>
                        Add = 10, <br>
                        Subtract = -10, <br>
                        Multiply = 20, <br>
                        Divide = -20 <br>
                    }<br><br>
               </strong>
                Можем указать свой собственный тип данных для констант:
                <br><br>
                <strong>
                    enum Ariphm : short <br>
                { <br>
                    Add = 10, <br>
                    Subtract = -10, <br>
                    Multiply = 20, <br>
                    Divide = -20 <br>
                }<br><br>
                </strong>
                При этом, если мы попробуем определить вот такой тип перечисления:
                <br><br>
                <strong>
                    enum Ariphm : byte <br>
                { <br>
                    Add = 10, <br>
                    Subtract = -10, <br>
                    Multiply = 20, <br> 
                    Divide = -20 <br>
                }<br><br>
                </strong>
                то компилятор C# выдаст нам ошибку
            </p>
            <h3><a name="4">Итого</a></h3>
            <p>
                Использование перечислений enum в C# может носить самый разнообразный характер, например, для хранение состояния какого-либо объекта в программе или, как в нашем случае, для указания типа операции над парой чисел. В любом случае, перечисления помогают нам сделать код программы более понятным. Согласитесь, что, вот такой вызов метода:
                <br><br>
                <strong>DoOperation(10, 3, Ariphm.Divide);</strong>
                <br><br>
                Намного понятнее, чем:
                <br><br>
                <strong>DoOperation(10, 3, -20);</strong>
                а если учесть, что во втором случае пользователь может вызвать метод и вот так:
                <br><br>
                <strong>DoOperation(10, 3, -134);</strong>
                <br><br>
                то использование перечислений позволяют сделать код не только более понятным, но и устойчивым к возможным ошибкам со стороны пользователя.
            </p>
    
        </div>
    </div>
</body>
</html>